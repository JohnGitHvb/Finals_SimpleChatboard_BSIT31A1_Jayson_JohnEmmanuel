@page
@model SimpleChatboard.Web.Pages.Rooms.IndexModel
@{
    Layout = "_Layout";
    var created = (bool?)TempData["RoomCreated"] ?? false;
    var deleted = (bool?)TempData["RoomDeleted"] ?? false;
}

@if (created)
{
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        Room created successfully!
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>
}

@if (deleted)
{
    <div class="alert alert-info alert-dismissible fade show" role="alert">
        Room has been deleted.
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>
}

<div class="row g-0">
    <div class="col-3 border-end vh-100 overflow-auto py-3 px-2">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h5 class="mb-0">Rooms</h5>
            <a class="btn btn-sm btn-primary" asp-page="Create">
                <i class="bi bi-plus-lg"></i> New Room
            </a>
        </div>
        <partial name="_RoomListPartial" model="@Model.Rooms" />
    </div>
    <div class="col-9 vh-100 d-flex align-items-center justify-content-center">
        <div class="text-center text-muted">
            <h5>Select a room to start chatting</h5>
            <p>Or create a new room to begin the conversation</p>
        </div>
    </div>
</div>

@section Scripts {
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
}
